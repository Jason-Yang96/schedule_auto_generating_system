:root {
  --bg: #f9fafb;
  --bg-soft: #f3f4f6;
  --card: #ffffff;
  --muted: #6b7280;
  --border: #e5e7eb;
  --blue: #2563eb;
  --green: #16a34a;
  --red: #dc2626;
  --yellow: #ca8a04;
}

* { box-sizing: border-box; }

.app { min-height: 100vh; background: linear-gradient(135deg, var(--bg), #eef2f7); padding: 1rem; }
.container { max-width: 1400px; margin: 0 auto; }

/* Card */
.card { background: var(--card); border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.06); padding: 1.25rem; }
.card.header { margin-bottom: 1rem; }
.mt-16 { margin-top: 1rem; }

/* Header */
.header-row { display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 1rem; }
.title { display:flex; align-items:center; gap:.5rem; font-weight: 800; font-size: clamp(1.25rem, 1.5vw, 1.75rem); color: #1f2937; }
.icon-lg { width: 32px; height: 32px; }
.icon-sm { width: 16px; height: 16px; }
.icon-xs { width: 12px; height: 12px; }
.icon-xxs { width: 10px; height: 10px; }
.text-blue { color: var(--blue); }

.header-actions { display:flex; align-items:center; gap:.5rem; }
.total-chip { font-size:.9rem; }
.total-chip .muted { color: var(--muted); }
.total-chip .emphasis { color: var(--blue); font-weight: 800; }

/* Buttons */
.btn { display:inline-flex; align-items:center; gap:.4rem; padding:.5rem .8rem; border-radius: 10px; border: none; font-weight: 600; color:#fff; cursor:pointer; transition: filter .15s ease; }
.btn:hover { filter: brightness(.95); }
.btn-gray { background:#6b7280; }
.btn-green { background: var(--green); }
.btn-red { background: var(--red); }
.btn-blue { background:#3b82f6; }
.btn-xs { padding:.25rem .5rem; font-size:.8rem; }

.icon-btn { display:inline-flex; align-items:center; justify-content:center; padding:.25rem; border-radius:6px; border:none; background:transparent; cursor:pointer; }
.icon-btn.danger:hover { background:#fee2e2; }
.icon-btn.muted { color:#9ca3af; }

/* Settings panel */
.settings { margin-bottom: 1rem; }
.grid-2 { display:grid; grid-template-columns: 1fr; gap: 1.25rem; }
@media (min-width: 768px) { .grid-2 { grid-template-columns: 1fr 1fr; } }
.section-title { display:flex; align-items:center; gap:.5rem; font-weight:700; color:#1f2937; margin-bottom:.5rem; }
.section-title.with-action { justify-content: space-between; }
.v-stack-8 > * + * { margin-top: .5rem; }

.option-row { margin-bottom: .75rem; padding:.6rem .8rem; background:#f8fafc; border:1px solid var(--border); border-radius:8px; }
.toggle { display:flex; align-items:center; gap:.5rem; font-weight:700; color:#1f2937; }
.toggle input { width: 1rem; height: 1rem; }

.slot-config { display:flex; align-items:center; justify-content:space-between; padding:.5rem; background:#f9fafb; border:1px solid var(--border); border-radius:8px; }
.slot-config .slot-label { font-size:.9rem; font-weight:600; }
.select { padding:.35rem .5rem; border:1px solid var(--border); border-radius:8px; font-size:.9rem; background:#fff; }

.list-scroll { max-height: 300px; overflow:auto; }
.person-row { display:flex; align-items:center; justify-content:space-between; padding:.5rem; background:#f9fafb; border:1px solid var(--border); border-radius:8px; }
.person-id { display:flex; align-items:center; gap:.5rem; }
.dot { width:10px; height:10px; border-radius:999px; }
.label-sm { font-size:.9rem; }
.label-strong { font-weight:700; }
.input { border:1px solid var(--border); border-radius:8px; padding:.35rem .5rem; }
.input-sm { width:80px; }

.notice { margin-top: .75rem; padding:.6rem .8rem; background:#eff6ff; color:#1d4ed8; border-radius:8px; font-size:.9rem; }

/* Grid Layout */
.grid-12 { display:grid; grid-template-columns: repeat(12, 1fr); gap: 1rem; }
.col-9 { grid-column: span 12; }
.col-3 { grid-column: span 12; }
@media (min-width: 1024px) { .col-9 { grid-column: span 9; } .col-3 { grid-column: span 3; } }

/* Table */
.table-wrap { overflow:auto; min-width: 900px; }
.table { width:100%; border-collapse: collapse; }
.th-day { background:#f3f4f6; border:1px solid var(--border); padding:.75rem; font-weight:700; font-size:.9rem; position:relative; }
.th-day-inner { display:flex; align-items:center; justify-content:space-between; gap:.5rem; }
.badge-auto { margin-left:.25rem; font-size:.75rem; color: var(--blue); }

.sticky-left { position: sticky; left: 0; z-index: 2; background: #fafafa; }
.time-col { border:1px solid var(--border); padding:.75rem; font-weight:700; }

.time-cell { border:1px solid var(--border); padding:.75rem; background:#fafafa; }
.time-cell-inner { display:flex; align-items:center; justify-content:space-between; }
.time-range { display:flex; align-items:center; gap:.4rem; color:#4b5563; font-weight:600; }
.badge-gray { font-size:.75rem; color:#6b7280; background:#e5e7eb; padding:.15rem .5rem; border-radius:6px; }

.cell { border:1px solid var(--border); padding:.5rem; min-height:60px; position:relative; cursor:pointer; transition: background .15s ease, box-shadow .15s ease; background:#fff; }
.cell-hover { background:#f3f4f6; }
.cell-selected { background:#e0f2fe; box-shadow: 0 0 0 2px #93c5fd inset; }
.cell-under { background:#fffbeb; }
.cell-over { background:#fef2f2; }
.cell-ok { background:#ecfdf5; }

/* ✅ 여러 명일 때 '열(column)'로 채우기 */
.assignees { 
  /* 기존 flex 제거 */
  display: block;
  column-count: 2;           /* 기본 2열 */
  column-gap: .25rem;
}
@media (min-width: 1280px) {
  .assignees { column-count: 3; }  /* 넓은 화면에선 3열 */
}
.assignees-empty { width:100%; height:100%; display:flex; align-items:center; justify-content:center; }

/* 칩이 열 사이에서 쪼개지지 않도록 */
.chip { 
  display: inline-block; 
  width: 100%;
  break-inside: avoid; 
  -webkit-column-break-inside: avoid;
  margin: 0 0 .25rem 0;

  align-items:center; gap:.25rem; padding:.25rem .5rem; 
  border-radius:999px; color:#fff; font-size:.8rem; font-weight:700; opacity:.95;
}
.chip:hover { opacity:1; }
.chip-close { border:none; background:rgba(255,255,255,.2); border-radius:999px; padding:2px; cursor:pointer; }

.cell-count { position:absolute; bottom:4px; right:6px; font-size:.75rem; }
.count { font-weight:800; }
.count-ok { color:#059669; }
.count-warn { color:#b45309; }
.count-danger { color:#b91c1c; }

/* Stats table */
.table-scroll { overflow:auto; }
.table.stats th, .table.stats td { border-top:1px solid var(--border); padding:.5rem; }
.text-left { text-align:left; }
.text-center { text-align:center; }
.small { font-size:.9rem; color:#374151; }
.tiny { font-size:.75rem; }
.muted { color: var(--muted); }
.text-red { color: var(--red); }
.text-yellow { color: var(--yellow); }
.text-green { color: var(--green); }
.emphasis-blue { color:#2563eb; font-weight:800; }

.progress { position:relative; height:8px; background:#e5e7eb; border-radius:999px; display:flex; align-items:center; gap:.5rem; }
.progress.thin { height:8px; }
.progress-bar { height:100%; border-radius:999px; }
.progress-label { margin-left:.5rem; font-size:.8rem; color:#6b7280; }

/* Right column */
.sticky { position: sticky; top: 1rem; }
.people-scroll { max-height: 600px; overflow:auto; }
.group { margin-bottom: 1rem; }
.group-title { font-size:.85rem; color:#6b7280; font-weight:700; margin-bottom:.4rem; }
.person-card { border:2px solid #e5e7eb; border-radius:12px; padding:.75rem; background:#fff; transition: box-shadow .15s ease, border-color .15s ease, opacity .15s ease; }
.person-card.drag-ok:hover { border-color:#60a5fa; box-shadow: 0 6px 12px rgba(59,130,246,.15); cursor: move; }
.person-card.drag-no { background:#f9fafb; border-color:#f3f4f6; opacity:.6; cursor: not-allowed; }
.person-card-head { display:flex; align-items:center; justify-content:space-between; }
.right { display:flex; align-items:center; gap:.5rem; }

/* Dropdown */
.dropdown { background:#fff; border:2px solid #d1d5db; border-radius:10px; box-shadow: 0 16px 30px rgba(0,0,0,.12); padding:.5rem; max-height: 20rem; overflow:auto; min-width: 220px; }
.dropdown-head { font-weight:800; color:#374151; padding:.5rem; border-bottom:1px solid var(--border); margin-bottom:.5rem; }
.dropdown-group { margin-bottom:.5rem; }
.dropdown-group-title { font-size:.75rem; color:#6b7280; font-weight:700; padding:.25rem .5rem; }
.dropdown-item { width:100%; display:flex; align-items:center; justify-content:space-between; padding:.4rem .5rem; border-radius:8px; border:none; background:transparent; cursor:pointer; }
.dropdown-item:hover { background:#f3f4f6; }
.dropdown-item.disabled { opacity:.5; cursor:not-allowed; background:#fafafa; }
.pill { font-size:.7rem; padding:.1rem .4rem; border-radius:999px; font-weight:700; }
.pill-orange { background:#ffedd5; color:#c2410c; }

/* Color tokens */
.color-blue { background:#3b82f6; }
.color-green { background:#22c55e; }
.color-purple { background:#a855f7; }
.color-pink { background:#ec4899; }
.color-yellow { background:#eab308; color:#111827; }
.color-indigo { background:#6366f1; }
.color-red { background:#ef4444; }
.color-orange { background:#f97316; }
.color-teal { background:#14b8a6; }
.color-cyan { background:#06b6d4; }
.color-emerald { background:#10b981; }
